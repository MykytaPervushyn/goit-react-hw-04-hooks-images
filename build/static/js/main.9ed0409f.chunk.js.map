{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","searchbar","this","form","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","toggleModal","largeImageURL","galleryItem","onClick","galleryItemImage","src","alt","Button","ImageGallery","images","status","BASE_URL","API_KEY","loadMore","page","fetch","then","response","json","prevState","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","finally","loading","loader","color","height","width","timeout","gallery","map","item","Modal","handleKeyDown","code","handleBackdropClick","target","console","log","addEventListener","removeEventListener","overlay","modal","App","showModal","handleFormSubmit","galleryItems","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9ed0409f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1_a-z\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__2KlOC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1HVQc\",\"modal\":\"Modal_modal__3gxlV\",\"button\":\"Modal_button__-zn2F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__bWm5F\"};","import s from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n    handleQueryChange = e => {\r\n        this.setState({searchQuery: e.currentTarget.value.toLowerCase()})\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.searchQuery.trim() === '') {\r\n            alert('Please enter search query');\r\n            return;\r\n        }\r\n\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n          <header className={s.searchbar}>\r\n              <form onSubmit={this.handleSubmit} className={s.form}>\r\n                  <button type=\"submit\" className={s.button}>\r\n                      <ImSearch />\r\n                      <span className={s.buttonLabel}>Search</span>\r\n                  </button>\r\n                  <input\r\n                      className={s.input}\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      autoFocus\r\n                      placeholder=\"Search images and photos\"\r\n                      value={this.state.searchQuery}\r\n                      onChange={this.handleQueryChange}\r\n                  />\r\n              </form>\r\n          </header>\r\n      );\r\n    }\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, toggleModal, largeImageURL }) => (\r\n    <li className={s.galleryItem}>\r\n    <img onClick={() => toggleModal(largeImageURL)} className={s.galleryItemImage} src={webformatURL} alt={id} />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n  toggleModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Button from \"../Button/Button\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n\r\n  state = {\r\n    images: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  BASE_URL = 'https://pixabay.com/api';\r\n  API_KEY = '23560247-693fa480425212983640fe465';\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const page = 1;\r\n\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n\r\n      this.setState({ status: 'pending', page: 1 });\r\n      fetch(`${this.BASE_URL}/?image_type=photo&orientation=horizontal&q=${this.props.searchQuery}&page=${page}&per_page=12&key=${this.API_KEY}`)\r\n        .then(response => {\r\n          return  response.json();\r\n        })\r\n        .then(images => this.setState({ images: images.hits, page: 1, status: 'resolved' }))\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    const page = this.state.page + 1;\r\n\r\n    fetch(`${this.BASE_URL}/?image_type=photo&orientation=horizontal&q=${this.props.searchQuery}&page=${page}&per_page=12&key=${this.API_KEY}`)\r\n        .then(response => {\r\n          return  response.json();\r\n        })\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images.hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n  };\r\n\r\n    render() {\r\n      const { toggleModal } = this.props;\r\n      const { images, status } = this.state;\r\n      \r\n      if (status === 'idle') {\r\n        return <div>Please enter your search query</div>\r\n      }\r\n\r\n      if (status === 'pending') {\r\n        return <Loader\r\n          className={s.loader}\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />;\r\n      }\r\n\r\n      if (status === 'resolved') {\r\n        return  <ul className={s.gallery}>\r\n          {images.map(item => (\r\n            <ImageGalleryItem\r\n                key={item.id}\r\n                id={item.id}\r\n                webformatURL={item.webformatURL}\r\n                largeImageURL={item.largeImageURL}\r\n                toggleModal={toggleModal}\r\n\r\n              />\r\n          ))}\r\n        <Button onClick={this.loadMore} /></ul>\r\n      }\r\n    }\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  galleryItems: PropTypes.array,\r\n  toggleModal: PropTypes.func,\r\n  searchQuery: PropTypes.string,\r\n};","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        console.log('Modal componentDidMount');\r\n\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n  }\r\n\r\n    componentWillUnmount() {\r\n        console.log('Modal componentWillUnmount')\r\n\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { largeImageURL } = this.props;\r\n      return (\r\n          <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n              <div className={s.modal}>\r\n                  <img src={largeImageURL} alt=\"\" />\r\n                  {/* <button className={s.button} type=\"button\" onClick={this.props.toggleModal}></button> */}\r\n              </div>\r\n          </div>\r\n      );\r\n    }\r\n};\r\n\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    largeImageURL: PropTypes.string,\r\n};","import { Component } from 'react';\r\nimport './App.css';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Modal from './components/Modal/Modal';\r\n\r\n\r\nimport galleryItems from './components/ImageGallery/ImageGalleryItem/galleryItems.json';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    showModal: false,\r\n    searchQuery: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  toggleModal = (largeImageURL) => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeImageURL,\r\n    }));\r\n  };\r\n\r\n  handleFormSubmit = searchQuery => {\r\n    this.setState({searchQuery: searchQuery})\r\n  }\r\n\r\n  render() {\r\nconsole.log('App render')\r\n\r\n    const { showModal } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit}/>\r\n      <ImageGallery\r\n          galleryItems={galleryItems}\r\n          toggleModal={this.toggleModal}\r\n          searchQuery={this.state.searchQuery}\r\n\r\n        />\r\n        {showModal && <Modal\r\n          toggleModal={this.toggleModal}\r\n          largeImageURL={this.state.largeImageURL} />}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__H4LnD\",\"form\":\"Searchbar_form__3sP3c\",\"button\":\"Searchbar_button__1vJIy\",\"buttonLabel\":\"Searchbar_buttonLabel__FaTAS\",\"input\":\"Searchbar_input__3K2Hv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__21uTr\",\"loader\":\"ImageGallery_loader__1cTRn\"};"],"sourceRoot":""}