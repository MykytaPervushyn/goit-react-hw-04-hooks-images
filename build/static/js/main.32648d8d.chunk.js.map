{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","searchbar","e","preventDefault","trim","alert","form","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","id","webformatURL","toggleModal","largeImageURL","galleryItem","onClick","galleryItemImage","src","alt","Button","ImageGallery","images","setImages","status","setStatus","page","setPage","BASE_URL","API_KEY","useEffect","console","log","fetch","then","response","json","hits","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","loader","color","height","width","timeout","gallery","map","item","Modal","addEventListener","handleKeyDown","removeEventListener","code","overlay","target","modal","App","showModal","setShowModal","setLargeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.32648d8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1_a-z\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__2KlOC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1HVQc\",\"modal\":\"Modal_modal__3gxlV\",\"button\":\"Modal_button__-zn2F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__bWm5F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__H4LnD\",\"form\":\"Searchbar_form__3sP3c\",\"button\":\"Searchbar_button__1vJIy\",\"buttonLabel\":\"Searchbar_buttonLabel__FaTAS\",\"input\":\"Searchbar_input__3K2Hv\"};","import s from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    \r\n    const handleQueryChange = e => {\r\n        setSearchQuery(e.currentTarget.value.toLowerCase())\r\n    };\r\n\r\n\r\n  const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (searchQuery.trim() === '') {\r\n            alert('Please enter search query');\r\n            return;\r\n        }\r\n\r\n        onSubmit(searchQuery);\r\n        setSearchQuery('');\r\n    }\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n              <form onSubmit={handleSubmit} className={s.form}>\r\n                  <button type=\"submit\" className={s.button}>\r\n                      <ImSearch />\r\n                      <span className={s.buttonLabel}>Search</span>\r\n                  </button>\r\n                  <input\r\n                      className={s.input}\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      autoFocus\r\n                      placeholder=\"Search images and photos\"\r\n                      value={searchQuery}\r\n                      onChange={handleQueryChange}\r\n                  />\r\n              </form>\r\n          </header>\r\n  )\r\n}\r\n\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, toggleModal, largeImageURL }) => (\r\n    <li className={s.galleryItem}>\r\n    <img onClick={() => toggleModal(largeImageURL)} className={s.galleryItemImage} src={webformatURL} alt={id} />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n  toggleModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import { useState, useEffect } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Button from \"../Button/Button\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nexport default function ImageGallery({ toggleModal, searchQuery }) {\r\n  const [images, setImages] = useState([]);\r\n  const [status, setStatus] = useState('idle');\r\n  const [page, setPage] = useState(1);\r\n\r\n  const BASE_URL = 'https://pixabay.com/api';\r\n  const API_KEY = '23560247-693fa480425212983640fe465';\r\n\r\n  useEffect(() => {\r\n    console.log('Render')\r\n    if (searchQuery === '') {\r\n      return;\r\n    }\r\n\r\n    setStatus('pending');\r\n    setPage(1);\r\n    \r\n    \r\n    fetch(`${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(images => {\r\n        setImages([...images.hits]);\r\n        setStatus(\"resolved\");\r\n      })\r\n    }, [searchQuery]);\r\n\r\n  const loadMore = () => {\r\n    setPage((prevState) => prevState + 1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (page === 1) {\r\n          return;\r\n    }\r\n    setStatus('pending');\r\n    fetch(`${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`)\r\n    .then(response => {\r\n        return response.json();\r\n      })\r\n    .then(images => {\r\n      setImages((prevState) => [...prevState, ...images.hits])\r\n      setStatus(\"resolved\");\r\n    })\r\n    .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n    })\r\n  }, [page])\r\n  \r\n    \r\n    \r\n    if (status === 'idle') {\r\n        return <div>Please enter your search query</div>\r\n      }\r\n\r\n      if (status === 'pending') {\r\n        return <Loader\r\n          className={s.loader}\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />;\r\n      }\r\n\r\n      if (status === 'resolved') {\r\n        return  <ul className={s.gallery}>\r\n          {images.map(item => (\r\n            <ImageGalleryItem\r\n                key={item.id}\r\n                id={item.id}\r\n                webformatURL={item.webformatURL}\r\n                largeImageURL={item.largeImageURL}\r\n                toggleModal={toggleModal}\r\n\r\n              />\r\n          ))}\r\n          <Button onClick={loadMore} />\r\n        </ul>\r\n      }\r\n}\r\n\r\n\r\n\r\n\r\nImageGallery.propTypes = {\r\n  toggleModal: PropTypes.func,\r\n  searchQuery: PropTypes.string,\r\n};","import { useEffect } from 'react';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Modal({toggleModal, largeImageURL}) {\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n        window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, [toggleModal]);\r\n\r\n     const handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            toggleModal();\r\n        }\r\n    };\r\n\r\n    const handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            toggleModal();\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n              <div className={s.modal}>\r\n                  <img src={largeImageURL} alt=\"\" />\r\n              </div>\r\n          </div>\r\n  )\r\n}\r\n\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    largeImageURL: PropTypes.string,\r\n};","import { useState } from 'react';\r\nimport './App.css';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nexport default function App() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [largeImageURL, setLargeImageURL] = useState('');\r\n\r\n  const toggleModal = (largeImageURL) => {\r\n    setShowModal(!showModal);\r\n    setLargeImageURL(largeImageURL);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <Searchbar onSubmit={setSearchQuery}/>\r\n      <ImageGallery\r\n          toggleModal={toggleModal}\r\n          searchQuery={searchQuery}\r\n\r\n        />\r\n        {showModal && <Modal\r\n          toggleModal={toggleModal}\r\n          largeImageURL={largeImageURL} />}\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__21uTr\",\"loader\":\"ImageGallery_loader__1cTRn\"};"],"sourceRoot":""}